# Lighter Quant Trading Bot

è‡ªé©æ‡‰é›™æ¨¡å¼é‡åŒ–äº¤æ˜“æ©Ÿå™¨äººï¼Œå°ˆç‚º Lighter DEX æ°¸çºŒåˆç´„è¨­è¨ˆã€‚

## ğŸ“‹ åŠŸèƒ½ç‰¹é»

### ç­–ç•¥
- **Momentum ç­–ç•¥**ï¼šè¶¨å‹¢å¸‚å ´æ™‚é †å‹¢è€Œç‚º
  - é›™ Supertrend (5m/15m) ç¢ºèª
  - EMA é»ƒé‡‘/æ­»äº¡äº¤å‰éæ¿¾
  - å‹•èƒ½å¼·åº¦è¨ˆç®—
  
- **Mean Reversion ç­–ç•¥**ï¼šéœ‡ç›ªå¸‚å ´æ™‚ä½è²·é«˜è³£
  - RSI è¶…è²·è¶…è³£åˆ¤æ–·
  - Bollinger Bands æ¥µç«¯å€åŸŸé€²å ´
  - ä¸­è»Œåå½ˆç­–ç•¥

### å¸‚å ´ç‹€æ…‹åˆ¤æ–·
- ADX åˆ¤æ–·è¶¨å‹¢å¼·åº¦
- ATR åˆ¤æ–·æ³¢å‹•ç‡
- è‡ªå‹•åˆ‡æ›ç­–ç•¥

### é¢¨éšªç®¡ç†
- å‹•æ…‹æ§“æ¡¿èª¿æ•´ï¼ˆ1x-5xï¼‰
- å‹ç‡èª¿æ•´æ§“æ¡¿
- é€£çºŒè™§æä¿è­·
- æ—¥å…§è™§æé™åˆ¶ï¼ˆ5%ï¼‰
- æœ€å¤§å›æ’¤ä¿è­·ï¼ˆ15%ï¼‰
- å†·å»æœŸæ©Ÿåˆ¶

## ğŸ—ï¸ å°ˆæ¡ˆçµæ§‹

```
lighter-quant-bot/
â”œâ”€â”€ config/
â”‚   â””â”€â”€ settings.py          # ç­–ç•¥åƒæ•¸é…ç½®
â”œâ”€â”€ core/
â”‚   â”œâ”€â”€ indicators.py        # æŠ€è¡“æŒ‡æ¨™è¨ˆç®—ï¼ˆå« Supertrendï¼‰
â”‚   â”œâ”€â”€ market_regime.py     # å¸‚å ´ç‹€æ…‹åˆ¤æ–·
â”‚   â”œâ”€â”€ position_manager.py  # å€‰ä½/æ§“æ¡¿ç®¡ç†
â”‚   â””â”€â”€ risk_manager.py      # é¢¨éšªæ§åˆ¶
â”œâ”€â”€ strategies/
â”‚   â”œâ”€â”€ base.py              # ç­–ç•¥åŸºé¡
â”‚   â”œâ”€â”€ momentum.py          # Momentum ç­–ç•¥
â”‚   â””â”€â”€ mean_reversion.py    # Mean Reversion ç­–ç•¥
â”œâ”€â”€ exchange/
â”‚   â”œâ”€â”€ lighter_client.py    # Lighter SDK å°è£
â”‚   â””â”€â”€ data_fetcher.py      # K ç·šæ•¸æ“šç²å–
â”œâ”€â”€ utils/
â”‚   â”œâ”€â”€ logger.py            # æ—¥èªŒç³»çµ±
â”‚   â””â”€â”€ metrics.py           # ç¸¾æ•ˆè¿½è¹¤
â”œâ”€â”€ main.py                  # ä¸»ç¨‹å¼å…¥å£
â”œâ”€â”€ backtest.py              # å›æ¸¬è…³æœ¬
â””â”€â”€ requirements.txt
```

## ğŸš€ å¿«é€Ÿé–‹å§‹

### 1. å®‰è£ä¾è³´

```bash
# å®‰è£ TA-Lib (éœ€è¦å…ˆå®‰è£ç³»çµ±ä¾è³´)
# Ubuntu/Debian
sudo apt-get install ta-lib

# macOS
brew install ta-lib

# å®‰è£ Python ä¾è³´
pip install -r requirements.txt
```

### 2. é…ç½®ç’°å¢ƒè®Šæ•¸

å‰µå»º `.env` æ–‡ä»¶ï¼š

```env
# Lighter DEX é…ç½®
LIGHTER_API_KEY=your_api_key
LIGHTER_PRIVATE_KEY=your_private_key
LIGHTER_HOST=https://api.lighter.xyz

# æ¨¡å¼è¨­å®š
DRY_RUN=true  # true=æ¨¡æ“¬äº¤æ˜“, false=å¯¦ç›¤
DEBUG=false
```

### 3. é‹è¡Œæ©Ÿå™¨äºº

```bash
# æ¨¡æ“¬æ¨¡å¼
python main.py

# å¯¦ç›¤æ¨¡å¼ (ç¢ºä¿ DRY_RUN=false)
python main.py
```

## âš™ï¸ é…ç½®èªªæ˜

### æ™‚é–“æ¡†æ¶
- å¿«é€Ÿæ™‚é–“æ¡†æ¶ï¼š5mï¼ˆé€²å ´è¨Šè™Ÿã€æ­¢æèª¿æ•´ï¼‰
- æ…¢é€Ÿæ™‚é–“æ¡†æ¶ï¼š15mï¼ˆè¶¨å‹¢ç¢ºèªã€å¸‚å ´ç‹€æ…‹ï¼‰

### ä¸»è¦åƒæ•¸ (`config/settings.py`)

```python
# Supertrend
period = 10
multiplier = 3.0

# EMA
fast_period = 20
slow_period = 50

# RSI
period = 14
overbought = 70
oversold = 30

# Bollinger Bands
period = 20
std_dev = 2.0

# ADX
period = 14
threshold = 25  # > 25 è¶¨å‹¢å¸‚, < 25 éœ‡ç›ªå¸‚

# é¢¨éšªç®¡ç†
risk_per_trade = 0.02     # å–®ç­†é¢¨éšª 2%
max_daily_loss = 0.05     # æ—¥å…§æœ€å¤§è™§æ 5%
max_drawdown = 0.15       # æœ€å¤§å›æ’¤ 15%
base_leverage = 2.0       # åŸºæº–æ§“æ¡¿
max_leverage = 5.0        # æœ€å¤§æ§“æ¡¿
```

## ğŸ“Š ç­–ç•¥é‚è¼¯

### Momentum ç­–ç•¥é€²å ´æ¢ä»¶
**åšå¤šï¼š**
1. Fast Supertrend = UP
2. Slow Supertrend = UP
3. åƒ¹æ ¼ > EMA20
4. EMA20 > EMA50
5. åƒ¹æ ¼çªç ´å‰ 20 æ ¹ K ç·šé«˜é»

**åšç©ºï¼š**
1. Fast Supertrend = DOWN
2. Slow Supertrend = DOWN
3. åƒ¹æ ¼ < EMA20
4. EMA20 < EMA50
5. åƒ¹æ ¼è·Œç ´å‰ 20 æ ¹ K ç·šä½é»

### Mean Reversion ç­–ç•¥é€²å ´æ¢ä»¶
**è¶…è³£åå½ˆåšå¤šï¼š**
1. RSI < 30
2. åƒ¹æ ¼ < BB ä¸‹è»Œ * 0.99
3. BB Position < 0.1

**è¶…è²·å›è½åšç©ºï¼š**
1. RSI > 70
2. åƒ¹æ ¼ > BB ä¸Šè»Œ * 1.01
3. BB Position > 0.9

## ğŸ›¡ï¸ é¢¨éšªç®¡ç†

### å‹•æ…‹æ§“æ¡¿èª¿æ•´
- å‹ç‡ > 60%ï¼šæ§“æ¡¿ Ã— 1.2
- å‹ç‡ < 40%ï¼šæ§“æ¡¿ Ã— 0.7
- é€£è™§ 2 æ¬¡ï¼šæ§“æ¡¿ Ã— 0.8
- é€£è™§ 3 æ¬¡ï¼šæ§“æ¡¿é™åˆ°æœ€ä½ 1x
- é€£å‹ 3 æ¬¡ï¼šæ§“æ¡¿ Ã— 1.1

### ä¿è­·æ©Ÿåˆ¶
- æ—¥å…§è™§æé” 5%ï¼šåœæ­¢äº¤æ˜“
- å›æ’¤é” 15%ï¼šåœæ­¢äº¤æ˜“
- é€£è™§ 5 æ¬¡ï¼šæš«åœæª¢è¨
- æ¯æ¬¡è™§æå¾Œï¼š5 åˆ†é˜å†·å»æœŸ
- é€£çºŒè™§æå¾Œï¼š30 åˆ†é˜å†·å»æœŸ

## ğŸ§ª æ¸¬è©¦

```bash
# é‹è¡Œå–®å…ƒæ¸¬è©¦
python test_fixes.py

# é‹è¡Œæ•´åˆæ¸¬è©¦
python test_integration.py

# é‹è¡Œå›æ¸¬
python backtest.py
```

## ğŸ“ˆ ç¸¾æ•ˆè¿½è¹¤

ç¸¾æ•ˆæ•¸æ“šä¿å­˜åœ¨ `data/metrics.json`ï¼ŒåŒ…å«ï¼š
- ç¸½äº¤æ˜“æ¬¡æ•¸
- å‹ç‡
- ç²åˆ©å› å­
- æœ€å¤§å›æ’¤
- Sharpe Ratio
- æŒ‰ç­–ç•¥åˆ†é¡çµ±è¨ˆ

## âš ï¸ é¢¨éšªè­¦å‘Š

1. **è³‡é‡‘é¢¨éšª**ï¼šé‡åŒ–äº¤æ˜“å­˜åœ¨è™§æé¢¨éšªï¼Œè«‹å‹¿ä½¿ç”¨ç„¡æ³•æ‰¿å—æå¤±çš„è³‡é‡‘
2. **DEX é¢¨éšª**ï¼šLighter æ˜¯ DEXï¼Œå¯èƒ½å­˜åœ¨æµå‹•æ€§å’Œæ»‘é»é¢¨éšª
3. **æŠ€è¡“é¢¨éšª**ï¼šç¶²è·¯å»¶é²ã€API æ•…éšœå¯èƒ½å½±éŸ¿äº¤æ˜“åŸ·è¡Œ
4. **å»ºè­°**ï¼š
   - å…ˆä½¿ç”¨æ¨¡æ“¬æ¨¡å¼ (DRY_RUN=true) æ¸¬è©¦è‡³å°‘ 1 å€‹æœˆ
   - å¯¦ç›¤æ™‚å¾å°è³‡é‡‘é–‹å§‹
   - å®šæœŸæª¢è¦–ç¸¾æ•ˆä¸¦èª¿æ•´åƒæ•¸

## ğŸ“ æ›´æ–°æ—¥èªŒ

### v1.0.0
- å¯¦ç¾é›™æ¨¡å¼ç­–ç•¥ï¼ˆMomentum + Mean Reversionï¼‰
- å®Œæ•´çš„é¢¨éšªç®¡ç†ç³»çµ±
- Lighter DEX æ•´åˆ
- Dry Run æ¨¡æ“¬æ¨¡å¼
- ç¸¾æ•ˆè¿½è¹¤ç³»çµ±

## ğŸ“„ License

MIT License
